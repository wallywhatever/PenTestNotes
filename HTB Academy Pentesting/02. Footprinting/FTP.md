- Client-Server first establish control channel through TCP port 21.
- Then they establish the data channel through TCP port 20.
- **Active FTP** - Client establishes the connection via port 21 and client and server talk
- **Passive FTP** - If a firewall protects the client, the server can't reply. So in passive mode the server announces a port for the data channel.
- [FTP Commands](https://www.smartfile.com/blog/the-ultimate-ftp-commands-list/)
- [FTP Status Codes](https://en.wikipedia.org/wiki/List_of_FTP_server_return_codes)

#### TFTP
- Does not provide authentication
- Uses UDP

#### Enumerating FTP Settings
- Use _Anonymous_ login to see what files are available.
	- `ls -R` to list files recursively
	- On the server, use `status` to get an overview of the server's settings
	- `debug` and `trace` are also usefull for showing more information.
- Download All Available Files
	- `wget -m --no-passive ftp://anonymous:anonymous@10.10.10.10`
- Upload a file
	- `put somefile.txt`
- Connect to an FTP server that uses TLS/SSL
	- `openssl s_client -connect [target]:21 -starttls ftp`
- Use [[01. Nmap|nmap]] `-sC` to scan FTP
	- This option will run all relevant scans based on the detected fingerprint.

[[Dangerous FTP Settings]]