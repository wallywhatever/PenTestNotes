- Intelligent Platform Management Interface
	- Used to manage hosts independently of the host's BIOS, CPU, firmware and OS.
	- Can manage and monitor powered off or unresponsive systems.
- Typically used in three ways:
	- Before the OS has booted to modify BIOS settings
	- When the host is fully powered down
	- Access to a host after a system failure
- Requires these components to function:
	-  Baseboard Management Controller (BMC) - A micro-controller and essential component of an IPMI
	-  Intelligent Chassis Management Bus (ICMB) - An interface that permits communication from one chassis to another
	-  Intelligent Platform Management Bus (IPMB) - extends the BMC
	-  IPMI Memory - stores things such as the system event log, repository store data, etc
	-  Communications Interfaces - local system interfaces, serial and LAN interfaces, ICMB and PCI Management Bus

#### Footprinting IPMI
- Uses UDP 623.
- Most common BMCs seen on a pentest are
	- HP iLO - default u: Administrator p: random 8 char string of numbers and upper case letters
		- Hashcat mask attack: `hashcat -m 7300 ipmi.txt -a 3 ?1?1?1?1?1?1?1?1 -1 ?d?u`
	- Dell DRAC - default u: root p: calvin
	- Supermicro IPMI - default u: ADMIN p: ADMIN

- **Nmap**
	- `sudo nmap -sU --script ipmi-version -p 623 ilo.host.local`

- **Metasploit Version Scan**
	- use `auxiliary/scanner/ipmi/ipmi_version` 

#### Hashed Password Capture
- Due to a [flaw](http://fish2.com/ipmi/remote-pw-cracking.html) in the RAKP protocol in IMPI 2.0 the server sends a salted SHA1 or MD5 hash to the client before authentication.
	- This can be leveraged to obtain the hash for ANY valid user account on the BMC.
	- These can be cracked using Hashcat mode 7300.
- To retrieve these hashing we can use the Metasploit [IPMI 2.0 RAKP Remote SHA1 Password Hash Retrieval](https://www.rapid7.com/db/modules/auxiliary/scanner/ipmi/ipmi_dumphashes/) module.
	- use `auxiliary/scanner/ipmi/ipmi_dumphashes`