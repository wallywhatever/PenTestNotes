- Similiar to SMB but for Linux and Unix systems.
- Created by Sun Microsystems
- Based on the Open Network Computing Remote Procedure Call (ONC-RPC/SUN-RPC)
	- Exposed on ==TCP/UDP ports 111==.
Version | Features
---------|----
NFSv2 | It is older but is supported by many systems and was initially operated entirely over UDP.
NFSv3 | It has more features, including variable file size and better error reporting, but is not fully compatible with NFSv2 clients.
NFSv4 | It includes Kerberos, works through firewalls and on the Internet, no longer requires portmappers, supports ACLs, applies state-based operations, and provides performance improvements and high security. It is also the first version to have a stateful protocol.
- 
- NFS protocol has no mechanism for authentication or authorization.
	- Authentication is shifted to the RPC protocol's options.
		- Most common authentication is via _Unix UID/GID_ and group memberships.
	- Authorization is based on the file system's authorization information.

#### Default Configuration
- Stored in `/etc/exports`
	- Contains a table of physical filesystems available to NFS clients.
![[2023-03-16 14_48_24-Hack The Box - Academy.png | 700]]
![[2023-03-16 14_48_42-Hack The Box - Academy.png|700]]

#### Dangerous Settings
![[2023-03-16 14_51_20-.png|750]]

#### Footprinting NFS
Ports 111 and 2049 are essential for footprinting.

- **nmap**
	- `sudo nmap <IP> -p111,2049 -sV -sC`
		- The `rpcinfo` NSE script lists all running RPC services, and their ports
	- `sudo nmap --script nfs* <IP> -sV -p111,2049`
		- This can show the contents of shares and its stats.
- **Mount Discovered Shares**
	- Show Available NFS Shares		
		- `showmount -e <IP>`
	- Mounting NFS Share
		- `mkdir target-NFS` - create an empty dir to mount to
		- `sudo mount -t nfs <IP>:/<share> ./target-NFS -o nolock`
		- `cd target-NFS`
		- `tree .`
	- List Contents with Usernames & Group Names
		- `ls -l mnt/nfs/`
	- List Contents with UIDs & GUIDs
		- `ls -n mnt/nfs/`