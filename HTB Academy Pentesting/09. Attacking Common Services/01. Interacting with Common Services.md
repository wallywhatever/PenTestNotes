# Windows

### Windows - File Shares

- To mount shared resources:
``` cmd
net use n: \\192.168.1.100\Share
net use n: \\192.168.1.100\Share /user:plaintext Password123
```

### Windows cmd - dir flags
``` cmd
dir n:\*cred* /s /b
dir n:\*secer* /s /b
dir n: /a-d /s /b | find /c ":\"
```
- Syntax
	- `n:`  -  Drive or directory to search
	- `/a-d`  -  `/a` is the attribute and `-d` means exclude directories
	- `/s`  -  Show files in directory and subdirectories
	- `/b`  -  Bare format (no heading information or summary) 

#### Windows cmd - [findstr](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/findstr#examples)
``` cmd
findstr /s /i cred n:\*.*
```
- Search for a specific word within a text file.


## Windows Powershell

#### PS - Get-ChildItem
``` powershell
Get-ChildItem \\192.168.1.100\Share\

(Get-ChildItem -File -Recurse | Measure-Object).Count

Get-ChildItem -Recurse -Path N:\ -Include *cred* -File
```
- `Get-ChildItem` is similiar to `dir`
- `gci`

#### PS - New-PSDrive
``` powershell
New-PSDrive -Name "N" -Root "\\192.168.1.100\Share" -PSProvider "FileSystem"
```
- Works instead of `net use`

#### [PSCredential Object](https://docs.microsoft.com/en-us/dotnet/api/system.management.automation.pscredential)
``` powershell
$username = 'plaintext'
$password = 'Password123'
$secpassword = ConvertTo-SecureString $password -AsPlainText -Force

$cred = New-Object System.Management.Automation.PSCredential $username, $secpassword

New-PSDrive -Name "N" -Root "\\192.168.1.100\Share" -PSProvider "FileSystem" -Credential $cred
```

#### PS - Select-String
``` powershell
Get-ChildItem -Recurse -Path N:\ | Select-String "cred" -List
```
- similiar to `grep` or `findstr.exe`


# Linux

- Requires `cifs-utils` to connect to an SMB share folder.

#### Linux - Mount Remote Share
``` bash
sudo mkdir /mnt/Finance
sudo mount -t cifs -o username=plaintext,password=Password123,domain=. //192.168.220.129/Finance /mnt/Finance
```

#### Linux - Mount Remote Share with Credential File
``` bash
mount -t cifs //192.168.220.129/Finance /mnt/Finance -o credentials=/path/credentialfile
```

`credentialfile` needs to be structured like this:
```txt
username=plaintext
password=Password123
domain=.
```

#### Linux - Find
``` bash
find /mnt/Finance/ -name *cred*
```

#### Linux - grep
``` bash
grep -rn /mnt/Finance -ie cred
```

### Connect to IMAP and SMTP using Evolution
``` bash
sudo apt install evolution
```
Then use the GUI setup to enter the server information.
Walkthrough [video](https://www.youtube.com/watch?v=xelO2CiaSVs)


## MSSQL

#### Linux - SQSH
``` bash
sqsh -S 10.129.20.13 -U username -P Password123
```
#### Windows - SQLCMD
``` cmd
sqlcmd -S 10.129.20.13 -U username -P Password123
```

## MySQL

#### Linux - MySQL
``` bash
mysql -u username -pPassword123 -h 10.129.20.13
```

#### Windows - MySQL
``` cmd
mysql.exe -u username -pPassword123 -h 10.129.20.13
```

### GUI SQL client - [dbeaver](https://github.com/dbeaver/dbeaver)
``` bash
wget https://github.com/dbeaver/dbeaver/releases/dbeaver-<version>amd64.deb
sudo dpkg -i dbeaver-<version>.deb
dbeaver &
```
- Connecting to MSSQL [dbeaver](https://www.youtube.com/watch?v=gU6iQP5rFMw)(video)
- Connecting to MySQL [dbeaver](https://www.youtube.com/watch?v=PeuWmz8S6G8)(video)
 

![[2023-03-31 10_52_20-Attacking Common Services.png]]